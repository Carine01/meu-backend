# API Documentation

Auto-generated by ELEVARE SUPER-AGENT

Generated at: 2025-11-24T01:55:21.539Z

## Controllers

### AuthTestController

Base path: `/auth-test`

| Method | Path | Handler |
|--------|------|----------|
| GET | /auth-test | getProfile |

### FirestoreController

Base path: `/firestore`

| Method | Path | Handler |
|--------|------|----------|
| POST | /firestore/:collection | create |
| GET | /firestore/:collection/:id | get |
| GET | /firestore/:collection | list |
| PUT | /firestore/:collection/:id | update |
| DELETE | /firestore/:collection/:id | remove |

### HealthController

Base path: `/health`

| Method | Path | Handler |
|--------|------|----------|
| GET | /health | readiness |
| GET | /health/liveness | liveness |

### LeadsController

Base path: `/leads`

| Method | Path | Handler |
|--------|------|----------|
| POST | /leads | create |

### AgendamentosController

Base path: `/agendamentos`

| Method | Path | Handler |
|--------|------|----------|
| POST | /agendamentos | criar |
| PUT | /agendamentos/:id/confirmar | confirmar |
| PUT | /agendamentos/:id/cancelar | cancelar |
| PUT | /agendamentos/:id/compareceu | marcarComparecimento |
| PUT | /agendamentos/:id/no-show | marcarNoShow |
| PUT | /agendamentos/:id/reagendar | reagendar |
| GET | /agendamentos/sugerir/:clinicId | sugerirHorarios |
| POST | /agendamentos/bloqueios/almoco/:clinicId | bloquearAlmoco |
| POST | /agendamentos/bloqueios/sabados/:clinicId | bloquearSabados |
| POST | /agendamentos/bloqueios/feriados/:clinicId | bloquearFeriados |
| GET | /agendamentos/bloqueios/verificar/:clinicId | verificarBloqueio |
| GET | /agendamentos/bloqueios/:clinicId | listarBloqueios |

### AuthController

Base path: `/auth`

| Method | Path | Handler |
|--------|------|----------|
| POST | /auth/login | login |
| POST | /auth/register | register |
| GET | /auth/me | getMe |
| POST | /auth/seed-admin | seedAdmin |

### BiController

Base path: `/bi`

| Method | Path | Handler |
|--------|------|----------|
| GET | /bi/dashboard | getDashboard |
| GET | /bi/metrics | getMetrics |
| GET | /bi/funil | getFunil |
| GET | /bi/etiquetas | getTopEtiquetas |
| GET | /bi/origens | getPerformancePorOrigem |

### AgendaSemanalController

Base path: `/campanhas`

| Method | Path | Handler |
|--------|------|----------|
| POST | /campanhas/executar-agenda | executarAgenda |
| GET | /campanhas/regras-semanais | getRegrasSemanais |

### EventsController

Base path: `/eventos`

| Method | Path | Handler |
|--------|------|----------|
| GET | /eventos/timeline/:leadId | getLeadTimeline |
| GET | /eventos/search | searchEvents |
| GET | /eventos/stats | getStats |
| GET | /eventos/recent | getRecent |
| GET | /eventos/stage-changes/:leadId | getStageChanges |
| GET | /eventos/messages/:leadId | getMessageHistory |

### IndicacoesController

Base path: `/indicacoes`

| Method | Path | Handler |
|--------|------|----------|
| POST | /indicacoes | criarIndicacao |
| GET | /indicacoes/:leadId | listarIndicacoes |
| GET | /indicacoes/recompensa/:leadId | verRecompensa |
| POST | /indicacoes/resgatar/:leadId | resgatarSessao |
| PUT | /indicacoes/agendou/:indicacaoId | indicadoAgendou |
| PUT | /indicacoes/compareceu/:indicacaoId | indicadoCompareceu |

### WhatsAppController

Base path: `/whatsapp`

| Method | Path | Handler |
|--------|------|----------|
| POST | /whatsapp/webhook | handleWebhook |
| GET | /whatsapp/webhook | verifyWebhook |
| POST | /whatsapp/send | sendMessage |
| GET | /whatsapp/check/:phoneNumber | checkNumber |

### ProfileController

Base path: `/profile`

| Method | Path | Handler |
|--------|------|----------|
| GET | /profile/:clinicId | getPerfil |
| POST | /profile | savePerfil |
| DELETE | /profile/:clinicId/soft | limparPerfil |
| DELETE | /profile/:clinicId | deletarPerfil |
| GET | /profile/:clinicId/export | exportarPerfil |
| GET | /profile | listarPerfis |

### TestController

Base path: `/test`

| Method | Path | Handler |
|--------|------|----------|
| GET | /test/mock500 | mock500 |
| POST | /test/retry | triggerRetry |

